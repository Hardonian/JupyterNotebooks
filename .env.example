# Agent Factory Environment Variables
# Copy this file to .env and fill in your values

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_BASE_URL=http://localhost:8000
DEBUG=false

# Database Configuration
# ============================================================================
# RECOMMENDED: Use Supabase for production (see docs/supabase-setup.md)
# ============================================================================

# Supabase Configuration (Production Recommended)
# Get these from: https://supabase.com/dashboard/project/[PROJECT-REF]/settings/api
SUPABASE_URL=https://[PROJECT-REF].supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Database URL (use pooled connection for production - port 6543)
# Format: postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres
DATABASE_URL=postgresql://postgres.[PROJECT-REF]:[YOUR-PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres

# Use Supabase connection pooler (recommended for production)
SUPABASE_USE_POOLER=true

# Alternative: Direct PostgreSQL connection (for migrations/admin)
# DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres

# Alternative: Use individual Postgres variables (if DATABASE_URL not set)
# POSTGRES_USER=agent_factory
# POSTGRES_PASSWORD=your-secure-password
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432
# POSTGRES_DB=agent_factory

# For SQLite (development only - NOT for production):
# DATABASE_URL=sqlite:///./agent_factory.db

# Redis (for caching and queues)
REDIS_URL=redis://localhost:6379/0

# LLM Providers
OPENAI_API_KEY=sk-your-openai-api-key
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# Authentication & Security
JWT_SECRET_KEY=your-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# API Keys (for API authentication)
API_KEY_ENABLED=false
API_KEY_SECRET=your-api-key-secret

# Billing & Payments (Stripe)
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Telemetry & Observability
TELEMETRY_ENABLED=true
METRICS_ENABLED=true
METRICS_PORT=9090
LOG_LEVEL=INFO
LOG_FORMAT=json

# Tracing (optional)
TRACING_ENABLED=false
TRACING_BACKEND=jaeger
JAEGER_ENDPOINT=http://localhost:14268/api/traces

# Marketplace (if using remote registry)
MARKETPLACE_URL=https://marketplace.agentfactory.io
MARKETPLACE_API_KEY=your-marketplace-api-key

# Email (for notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-email-password
SMTP_FROM=noreply@agentfactory.io

# File Storage (for knowledge packs, blueprints, etc.)
# ============================================================================
# RECOMMENDED: Use Supabase Storage when using Supabase backend
# ============================================================================
STORAGE_TYPE=supabase
SUPABASE_STORAGE_BUCKET=agent-factory

# Alternative: Local storage (development only)
# STORAGE_TYPE=local
# STORAGE_PATH=./storage

# Alternative: AWS S3
# STORAGE_TYPE=s3
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_S3_BUCKET=your-bucket-name
# AWS_REGION=us-east-1

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# CORS (for web frontend)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_CREDENTIALS=true

# Feature Flags
FEATURE_BLUEPRINT_MARKETPLACE=true
FEATURE_BILLING=true
FEATURE_MULTI_TENANT=true
